(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{66516:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Admin/Users",function(){return a(78735)}])},78735:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var r=a(85893),t=a(67294),n=a(76964),l=a(30258),i=a(38761),d=a(17636),u=a(8572),o=a(32335),c=a(91259),m=a(94205),p=a(39828);let{Option:f}=l.default;var x=function(e){let{open:s,onClose:a}=e,[x,h]=(0,t.useState)(!1),j=async e=>{console.log("Success:",e);try{h(!0);let s=await (0,c.Xb)(m.I,e.email,e.password),r=(0,p.JU)(m.db,"users",s.user.uid);await (0,p.pl)(r,{...e,uid:s.user.uid}),h(!1),a(),i.ZP.success("User account created successfully")}catch(e){i.ZP.error(e.message),h(!1)}};return(0,r.jsx)(d.Z,{title:"User Form",onClose:a,open:s,children:(0,r.jsxs)(u.Z,{name:"basic",layout:"vertical",initialValues:{remember:!0},onFinish:j,onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,r.jsx)(u.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,r.jsx)(o.Z,{})}),(0,r.jsx)(u.Z.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:(0,r.jsx)(o.Z,{})}),(0,r.jsx)(u.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,r.jsx)(o.Z.Password,{})}),(0,r.jsx)(u.Z.Item,{label:"Role",name:"role",rules:[{required:!0,message:"Please select a role!"}],children:(0,r.jsxs)(l.default,{placeholder:"Select a role",children:[(0,r.jsx)(f,{value:"admin",children:"Admin"}),(0,r.jsx)(f,{value:"counteruser",children:"Counter Local User"})]})}),(0,r.jsx)(u.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,r.jsx)(n.ZP,{loading:x,type:"primary",htmlType:"submit",children:"Submit"})})]})})},h=a(80861),j=a(70020),y=a(17503);let{Title:w}=h.default;var b=function(){let[e,s]=(0,t.useState)([]),[a,n]=(0,t.useState)(!0);(0,t.useEffect)(()=>{l()},[]);let l=async()=>{let e=(0,p.hJ)(m.db,"users"),a=await (0,p.PL)(e);if(!a.empty){let e=[];a.forEach(s=>{e.push({...s.data(),id:s.id})}),s(e)}n(!1)};return(0,r.jsxs)("div",{style:{padding:24,background:"#fff",borderRadius:8,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",margin:"16px 0"},children:[(0,r.jsx)(w,{level:3,style:{marginBottom:16},children:"User List"}),a?(0,r.jsx)(j.Z,{size:"large"}):(0,r.jsx)(y.Z,{dataSource:e,columns:[{title:"Username",dataIndex:"username",key:"username"},{title:"Email",dataIndex:"email",key:"email"},{title:"Uid",dataIndex:"uid",key:"uid"},{title:"Password",dataIndex:"password",key:"password"}],rowKey:"id",pagination:{pageSize:10},scroll:{x:"max-content"}})]})},g=function(){let[e,s]=(0,t.useState)(!1);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-5",children:[(0,r.jsx)("h1",{children:"All Users"}),(0,r.jsx)(n.ZP,{type:"primary",onClick:()=>{s(!0)},children:"Add User"})]}),(0,r.jsx)(x,{onClose:()=>{s(!1)},open:e}),(0,r.jsx)(b,{})]})}},94205:function(e,s,a){"use strict";a.d(s,{I:function(){return i},db:function(){return d}});var r=a(83977),t=a(91259),n=a(39828);let l=(0,r.ZF)({apiKey:"AIzaSyCuQ3wNmtDNAZMhZe9MRjpTn1kAvDp4SOA",authDomain:"point-of-sale-8a42d.firebaseapp.com",projectId:"point-of-sale-8a42d",storageBucket:"point-of-sale-8a42d.appspot.com",messagingSenderId:"283428202868",appId:"1:283428202868:web:0c99ca55251c4294136421",measurementId:"G-Q0928NKHEQ"}),i=(0,t.v0)(l),d=(0,n.ad)(l)}},function(e){e.O(0,[16,257,837,825,761,335,417,292,861,572,888,774,179],function(){return e(e.s=66516)}),_N_E=e.O()}]);